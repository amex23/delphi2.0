<div class="search-box">
   <input type="text" id="search-input" placeholder="Search for products">
   <ul id="search-results"></ul>
</div>

<script>
	document.getElementById("search-input").addEventListener("input", function() {
    const searchQuery = this.value;

    // Clear the previous search results
    const searchResults = document.getElementById("search-results");
    searchResults.innerHTML = '';

    // Check if the search query is not empty
    if (searchQuery.trim() !== '') {
        // Make an AJAX request to Shopify's search API
        const apiUrl = `/search?type=product&q=${encodeURIComponent(searchQuery)}`;

        // You may need to adjust the URL structure depending on your Shopify setup
        // Replace '/search?type=product&q=' with the appropriate endpoint.

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                // Process the response data and populate the search results dropdown
                if (data.products.length > 0) {
                    data.products.forEach(product => {
                        const resultItem = document.createElement("li");
                        resultItem.innerHTML = `<a href="${product.url}">${product.title}</a>`;
                        searchResults.appendChild(resultItem);
                    });
                } else {
                    const noResultsItem = document.createElement("li");
                    noResultsItem.textContent = "No results found";
                    searchResults.appendChild(noResultsItem);
                }
            })
            .catch(error => {
                console.error("Error fetching search results: ", error);
            });
    }
});

</script>


<style>
	/* Style the search box */
.search-box {
  position: relative;
  display: inline-block;
  margin-right: 10px;
}

#search-input {
  width: 200px;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

/* Style the search results dropdown */
#search-results {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1;
  width: 100%;
  background-color: #fff;
  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
  list-style: none;
  padding: 0;
  margin: 0;
}

#search-results li {
  padding: 10px;
  border-bottom: 1px solid #eee;
}

#search-results li:last-child {
  border-bottom: none;
}

#search-results a {
  text-decoration: none;
  color: #333;
  font-weight: bold;
}

#search-results a:hover {
  color: #f00; /* Change the hover color as desired */
}

</style>